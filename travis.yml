language: scala

sudo: false

cache:
  directories:
    - $HOME/.m2/repository
    - $HOME/.sbt
    - $HOME/.ivy2

before_script:
  - cd gui
  - ./initialize.sh
  - npm intall
  - cd ..

script:
  # Scala build and test
  - sbt compile test:compile
  - sbt test
  - find $HOME/.sbt -name "*.lock" | xargs rm

  # React and node build and test
  cd gui
  npm run build
  npm run test

