language: scala
scala:
  - 2.11.8

jdk:
  - oraclejdk8

env:
  global:
    - secure: dy6vMGcKPulG1panNjcKGdYwqXqvoqu4GLujPK3aNV/OwHVJyOdoZq556CobDBHeR/JqBPGNOZ33pjOFCG2669DA0IgdxYuThOCwj4nhraRx748d0PWbbKPhFuENfCl+4pCfSiUQprwfocpwYzOEV+bshEDDJEmUMHsFL0zVqZ5CVqaA7k9fGFrmtI+wUd0hMakeINaZXTL9RUsMFOTGyATsyREjt6CFPD+wBBdZDDdE3LusIBDjkrN/n5x3MSiF3s2MsqVtL1O+jgfd6/wOBTIZfs3u5ns6veTxbXHp5IvXyZw5qOfMvxnC519ceDqRbOFqQg7H9ctb0ODo7dvg4Q==


integrations:
  notifications:
    - integrationName: MUSIT-Slack
      type: slack
      recipients:
        - "#travis-builds"
      on_success: always
      on_failure: always

branches:
  only:
    - master

build:
  pre_ci_boot:
    # Using a docker image with latest scala and SBT pre-installed. Including some dependencies.
    image_name: kpmeen/docker-scala-sbt
    image_tag: latest
    pull: true
    options: "-e HOME=/root"

  ci:
    - sbt clean scalastyle
    - sbt -mem 2048 coverage test it:test coverageReport
    - sbt coverageAggregate codacyCoverage
