language: scala
scala:
  - 2.11.8

jdk:
  - oraclejdk8

env:
  global:
    - secure: o4f10lUKpuSz27+PSv/aVwUFazmNN5J19nJlFEfnw4/eguJCkO5NMkultDyslPN0NYiXFKIh/O2zjcAt4Kj1hD4THPxSfuWWyou7HktlyB3gZEcp9k2usi9mK57MvdQLxIsIpbKASb7gpvCXX/wTVr/zFak4ngLoOU0AmdikR9P4eveXoLr2GaVEoNjU37qpis3v+vIgsAFHFNrGy8nO5/hIKUud35uUQA+FFNhiy8eqJmziTYfc64uv1MzkBKeoE9UGeTYNs5wX4HX6XwrShON8tR/4dIbxDWW0c9A9Om3W/kG7u9okP1DkyVHuJeIEtPFAidiEQgW2FEpqOIWQ1Q==

integrations:
  notifications:
    - integrationName: MUSIT-Slack
      type: slack
      recipients:
        - "#travis-builds"
      on_success: always
      on_failure: always

branches:
  only:
    - master

build:
  pre_ci_boot:
    # Using a docker image with latest scala and SBT pre-installed. Including some dependencies.
    image_name: kpmeen/docker-scala-sbt
    image_tag: latest
    pull: true
    options: "-e HOME=/root"

  ci:
    - sbt clean scalastyle
    - sbt -mem 2048 coverage test it:test coverageReport
    - sbt coverageAggregate codacyCoverage
