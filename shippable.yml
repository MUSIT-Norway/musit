language: scala
scala:
  - 2.11.8

jdk:
  - oraclejdk8

env:
  global:
    - secure: qSC9uXa8IN7mbRe+KacgVlZZQEHoxtaWiMko1Y1tUCKOh9khryCmGUfQtBjVApryctGfbDGo6CKjYyaWGkX6xokxf7FLJ1Ms/JxjrXeb6voLzcHksBLVHmPiD4uBYWFOYpKJU+Hl9Hr1wDxK5N7DxEXT0x+53nCvPC5/kPvKTDYkespgPQpT+DxrGZYi9egqf2EeEush5hrUEZHSp3dUJM7cdqdfKh6r0/hFvIJBo9CHU/MoDy0Ea2XwpcRA2hUCWwvNb+ZgvJB9W9BumpR+JHA3ENnGHjSu7kvW4VY4hQMhlbgdkuM5opLoPLmXiEVmm16x2Wweg1gek2xVuf+Z9w==

integrations:
  notifications:
    - integrationName: MUSIT-Slack
      type: slack
      recipients:
        - "#travis-builds"
      on_success: always
      on_failure: always

branches:
  only:
    - master

build:
  pre_ci_boot:
    # Using a docker image with latest scala and SBT pre-installed. Including some dependencies.
    image_name: kpmeen/docker-scala-sbt
    image_tag: latest
    pull: true
    options: "-e HOME=/root"

  ci:
    - sbt clean scalastyle
    - sbt -mem 2048 coverage test it:test coverageReport
    - sbt coverageAggregate codacyCoverage
