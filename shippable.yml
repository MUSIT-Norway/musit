language: scala
scala:
  - 2.11.8

jdk:
  - oraclejdk8

env:
  global:
    - secure: RG1RpqWq1PM89URCfDiixd6T9IiwG4baXwgpM0lEmJK0RmEAfbKLz8v+74Ef3D3ZBL2kCYg90/d9DYx3hvrAX228B9491cnGdSctjjg5W6iwAToKb5qmN8dkvOcaB7Fq1lnPBma4vF6Biri+VuI6IvzKOEif6eO8ay/J38PgGpoS4hdF0fh3GpTbXwkNr8+ChOLEjZ/p8UDeu4g62P+LwwMbVMQSQq9yrPDbKmRoEeb6F7WWdr2UOn8F6h0+j49FGsjWN/7r38dLpbaZ7xEe0TK4OHlkrXaTOi+JveO6XwWTgIl93A8OCXFwrgszKv66HtpiPs8Rs2QS0/LHgsGYyg==

integrations:
  notifications:
    - integrationName: MUSIT-Slack
      type: slack
      recipients:
        - "#travis-builds"
      on_success: always
      on_failure: always

branches:
  only:
    - master

build:
  pre_ci_boot:
    # Using a docker image with latest scala and SBT pre-installed. Including some dependencies.
    image_name: kpmeen/docker-scala-sbt
    image_tag: latest
    pull: true
    options: "-e HOME=/root"

  ci:
    - sbt clean scalastyle
    - sbt -mem 2048 coverage test it:test coverageReport
    - sbt coverageAggregate codacyCoverage
