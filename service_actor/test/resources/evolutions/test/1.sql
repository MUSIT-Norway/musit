# --- !Ups

CREATE SCHEMA IF NOT EXISTS MUSIT_MAPPING;

CREATE TABLE MUSIT_MAPPING.ACTOR (
  ACTOR_ID NUMBER(20) GENERATED BY DEFAULT AS IDENTITY,
  ACTORNAME VARCHAR(512),
  DATAPORTEN_UUID VARCHAR2(50),
  DATAPORTEN_USERNAME VARCHAR(100),
  APPLICATION_UUID VARCHAR2(50),
  PRIMARY KEY (ACTOR_ID)
);

CREATE SCHEMA IF NOT EXISTS MUSARK_ACTOR;

CREATE TABLE MUSARK_ACTOR.ORGANIZATION (
  ID NUMBER(20) GENERATED BY DEFAULT AS IDENTITY,
  FN VARCHAR(255) NOT NULL,
  NICKNAME VARCHAR(255),
  TEL VARCHAR(20),
  WEB VARCHAR(255),
  PRIMARY KEY (ID)
);

CREATE TABLE MUSARK_ACTOR.ORGANIZATION_ADDRESS (
  ID NUMBER(20) GENERATED BY DEFAULT AS IDENTITY,
  ORGANIZATION_ID NUMBER(20) NOT NULL,
  TYPE VARCHAR(20),
  STREET_ADDRESS VARCHAR(20),
  LOCALITY VARCHAR(255),
  POSTAL_CODE VARCHAR(12),
  COUNTRY_NAME VARCHAR(255),
  LATITUDE FLOAT,
  LONGITUDE FLOAT,
  PRIMARY KEY (ID)
);

ALTER TABLE MUSARK_ACTOR.ORGANIZATION_ADDRESS ADD FOREIGN KEY (ORGANIZATION_ID) REFERENCES MUSARK_ACTOR.ORGANIZATION(ID);

INSERT INTO MUSIT_MAPPING.ACTOR (ACTORNAME, DATAPORTEN_UUID, DATAPORTEN_USERNAME, APPLICATION_UUID)
VALUES ('And, Arne1', '12345678-adb2-4b49-bce3-320ddfe6c90f', 'andarn', '41ede78c-a6f6-4744-adad-02c25fb1c97c');

INSERT INTO MUSIT_MAPPING.ACTOR (ACTORNAME, DATAPORTEN_UUID, DATAPORTEN_USERNAME, APPLICATION_UUID)
VALUES ('Kanin, Kalle1', 'd5a9a938-0905-470b-a892-88d0e7359579', 'kaninka', '5224f873-5fe1-44ec-9aaf-b9313db410c6');

INSERT INTO MUSARK_ACTOR.ORGANIZATION (ID, FN, NICKNAME, TEL, WEB)
VALUES (1, 'Kulturhistorisk museum - Universitetet i Oslo', 'KHM', '22 85 19 00', 'www.khm.uio.no');

INSERT INTO MUSARK_ACTOR.ORGANIZATION_ADDRESS (ORGANIZATION_ID, TYPE, STREET_ADDRESS, LOCALITY, POSTAL_CODE, COUNTRY_NAME, LATITUDE, LONGITUDE)
VALUES (1, 'WORK', 'Fredriks gate 2', 'OSLO', '0255', 'NORWAY', 0.0, 0.0);

# --- !Downs

DROP TABLE MUSIT_MAPPING.ACTOR;
DROP TABLE MUSARK_ACTOR.ORGANIZATION_ADDRESS;
DROP TABLE MUSARK_ACTOR.ORGANIZATION;